# FlinkåŸç†ä¸å®è·µ

## ç®€ä»‹

éº»çƒ¦è·¯è¿‡çš„æœ‹å‹ç»™**ç‚¹ä¸ªæ˜Ÿæ˜Ÿï¼ˆstarï¼‰**,ä¹Ÿç®—æ˜¯å¯¹æˆ‘åˆ†äº«çš„è®¤å¯ï¼Œè°¢è°¢äº†ï¼

![ã€ŠFlinkåŸç†ä¸å®è·µã€‹](./book.jpeg)

æœ¬å·¥ç¨‹ä¸»è¦ä½¿ç”¨Javaå’ŒScalaæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Flinkï¼ˆv1.12.4ï¼‰ã€‚ç”¨æˆ·éœ€è¦å®‰è£…Intellij Ideaå’ŒMavenã€‚æˆ‘æœªæ¥å°†æ›´æ–°åˆ°Flinkæœ€æ–°ç‰ˆæœ¬ã€‚

æˆ‘ä¹Ÿå†™äº†ä¸€æœ¬å…³äºFlinkçš„ä¸­æ–‡ä¹¦ï¼šã€ŠFlinkåŸç†ä¸å®è·µã€‹ï¼Œè´­ä¹°è¯·æˆ³ğŸ‘‰ [äº¬ä¸œé“¾æ¥](https://item.jd.com/13154364.html)ã€‚ä¹¦é…åˆä»£ç ï¼Œå­¦ä¹ æ•ˆç‡æ›´é«˜ã€‚

æˆ‘çš„ç½‘ç«™[http://lulaoshi.info/](https://lulaoshi.info/flink/)æœ‰å¯¹Flinkçš„è¯¦ç»†å›¾æ–‡æ•™ç¨‹ã€‚

å¤§å®¶ä¹Ÿå¯ä»¥é€šè¿‡å¾®ä¿¡å…¬ä¼—å·æ‰¾åˆ°æˆ‘ï¼š

![å…¬ä¼—å·](http://aixingqiu-1258949597.cos.ap-beijing.myqcloud.com/2019-11-20-021810.png)


## ç›®å½•ç»“æ„

### ç”µå­ä¹¦éƒ¨åˆ†ï¼š`doc`

`doc` ä¸ºå¼€æºç”µå­ä¹¦éƒ¨åˆ†ã€‚

### Flink æ¡ˆä¾‹éƒ¨åˆ†ï¼š`src`

`src` ä¸º Flink æ¡ˆä¾‹æºä»£ç ã€‚

`chapter2_basics` gives some basic examples on overloading, types, functional programming.

`chapter4_api` shows Flink transformation APIs without time or state.

`chapter5_time` shows how to use time and window.

`chapter6_state` gives example on state.

`chapter7_connector` gives example on Connector (Source and Sink).

`chapter7_sql` shows Table API & SQL.

`exercise` are projects using Flink.

## å‚ä¸è´¡çŒ®

### æ„å»ºæŒ‡å—

æœ¬ä¹¦ç”µå­ä¹¦ `doc` åŸºäº [Jupyter Book](https://jupyterbook.org/) çš„ Python å·¥å…·æ„å»ºã€‚æœ¬ä¹¦ä¸»è¦å†…å®¹ä½¿ç”¨ `.md` æ–‡ä»¶ä¿å­˜ã€‚Jupyter Book å·¥å…·å¯ä»¥å°† `.md` æ–‡ä»¶è½¬åŒ–ä¸º HTML æ ¼å¼ã€‚

### æ–‡å­—ä¸ä»£ç é£æ ¼æŒ‡å—

#### æ–‡ä»¶

å½“ä½ ç¼–å†™äº†æ–°çš„æ–‡æ¡£åï¼Œè¯·æ­£ç¡®å­˜æ”¾ä½ çš„æ–‡ä»¶ï¼Œå¹¶åœ¨æœ¬åœ°æ£€æŸ¥å®ƒã€‚

- é¡µé¢åˆ’åˆ†ï¼šæ‰€æœ‰æ–‡æ¡£è¯·å­˜æ”¾åœ¨ `ch-xxx/` ç›®å½•ä¸‹ï¼Œch æ˜¯ chapter çš„ç®€å†™ï¼Œæ¯ç« å»ºä¸€ä¸ªç›®å½•ï¼Œæ¯èŠ‚å»ºç«‹ä¸€ä¸ª `.md` æ–‡ä»¶ã€‚

- å›¾ç‰‡å­˜æ”¾ï¼šå›¾ç‰‡æ–‡ä»¶ä¿å­˜åœ¨æ¯ç« çš„ `img` æ–‡ä»¶å¤¹ä¸‹ï¼Œå…¶ä¸­ `drawio` ä¸ºä½¿ç”¨ [draw.io](https://www.drawio.com/) è½¯ä»¶ç»˜åˆ¶çš„åŸå›¾ï¼Œ`png` ä¸ºæœ€åç”Ÿæˆçš„å›¾ã€‚[draw.io](https://www.drawio.com/) å¯ä»¥ [åœ¨çº¿](https://app.diagrams.net/) ç»˜åˆ¶ã€‚

- ç›®å½•åä¸æ–‡ä»¶åå­—åº”ç®€æ´ç›´è§‚ï¼Œé—´éš”ä½¿ç”¨å‡å·å¼ï¼ˆ-ï¼‰è¿æ¥ï¼Œå°å†™ã€‚
    > ä¾‹ python-ecosystem.svg
    > ä¾‹ ch-python-lang

#### æ–‡å­—

æœ¬æ•™ç¨‹é¢å‘é’ˆå¯¹åˆå­¦è€…ï¼Œæ–‡å­—é£æ ¼è¯·ä¿æŒç®€æ´é«˜æ•ˆï¼Œæ˜“äºç†è§£ã€‚ä»»ä½•æœ‰åŠ©äºè¯»è€…ç†è§£çš„æ–‡å­—ï¼Œæ ‡è¯†éƒ½æ˜¯æœ‰å¸®åŠ©çš„ã€‚

- é¦–æ¬¡å‡ºç°çš„è‹±æ–‡å•è¯ï¼Œåº”ä½¿ç”¨æ‹¬å·è§£é‡Šä¸­æ–‡ï¼Œä¸‹æ–‡å¯ä»¥ç»§ç»­ä½¿ç”¨è¯¥è‹±æ–‡ã€‚
    >ä¾‹ Deep Learning ï¼ˆæ·±åº¦å­¦ä¹ ï¼‰

- é¦–æ¬¡å‡ºç°çš„ç¼©å†™ï¼Œåº”ä½¿ç”¨æ‹¬å·è§£é‡Šå…¨ç§°å’Œä¸­æ–‡ï¼Œä¸‹æ–‡å¯ç»§ç»­ä½¿ç”¨ç¼©å†™ã€‚
    >ä¾‹ APIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰

- è¯·åœ¨æ‰€æœ‰ä¸­æ–‡æ–‡å­—å’ŒåŠè§’çš„è‹±æ–‡ã€æ•°å­—ã€ç¬¦å·ã€é“¾æ¥å‰åæ’å…¥ç©ºç™½ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›æ’ä»¶å¸®åŠ©è¿›è¡Œç©ºæ ¼çš„æ’ç‰ˆï¼Œæ¯”å¦‚ [VSCode pangu](https://marketplace.visualstudio.com/items?itemName=baurine.vscode-pangu)ï¼Œæˆ–è€…å®‰è£… Python ç‰ˆçš„ pangu æ’ä»¶ï¼š`pip install -U pangu`ã€‚è¯¦æƒ…å‚è€ƒ [pangu](https://github.com/vinta/pangu.js)
  >ä¾‹ æ¬¢è¿staræœ¬ä»“åº“ --> æ¬¢è¿ star æœ¬ä»“åº“

#### ä»£ç 

è¯·å°½å¯èƒ½çš„ä½¿ä½ çš„ä»£ç æœ‰æ›´å¼ºçš„å¯è¯»æ€§ã€‚

- å˜é‡ååº”å°½é‡ä½¿ç”¨æœ‰ä¸€å®šå«ä¹‰çš„ `è‹±æ–‡` å•è¯ï¼Œè€Œä¸æ˜¯æ‹¼éŸ³ã€‚

- å˜é‡åå°½é‡æœ‰æ„ä¹‰ï¼Œé©¼å³°å¼å‘½åï¼Œå¹¶ä¿æŒå¯è¯»æ€§ã€‚é™¤éç®€å•ç¤ºä¾‹ä¸­å¯ä»¥ä½¿ç”¨ `a = xx`ï¼Œ`b = xx` å¤–ï¼Œå»ºè®®å¤æ‚é€»è¾‘ä¸­ä¸è¦å‡ºç° `a`ï¼Œ`b`ï¼Œ`c` ä¸ºåçš„çš„å˜é‡ã€‚å¯ä»¥ä½¿ç”¨ `i` ï¼Œ`j` è¿™æ ·çš„è®¡æ•°å™¨ã€‚

- å‡½æ•°ååº”ä½¿ç”¨ä¸‹åˆ’çº¿å¼å‘½åï¼Œå°å†™ã€‚
    >ä¾‹ hello_world()

- ç±»ååº”å¤§å†™ï¼Œå¤æ‚ç±»ååº”é‡‡ç”¨é©¼å³°å¼å‘½åã€‚
    >ä¾‹ class HelloWorld

### ç”µå­ä¹¦ç¯å¢ƒé…ç½®

å‡†å¤‡ç¯å¢ƒï¼š

* é€‰æ‹©ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œæ¯”å¦‚ `conda`ã€‚
* å®‰è£… Python >= 3.8
* å®‰è£… requirements.txt ä¸­çš„å„ä¸ªä¾èµ–ã€‚åŒ…æ‹¬æœ¬ä¹¦å„ä¸ªæ¡ˆä¾‹æ‰€éœ€è¦çš„å·¥å…· pandas ç­‰ï¼Œä»¥åŠæœ¬ç”µå­ä¹¦æ„å»ºå·¥å…· Jupyter Bookï¼š

```bash
conda create -n dispy
source activate dispy
conda install python=3.11 anaconda::graphviz
pip install -r requirements.txt
```

### æ„å»º HTML æ ¼å¼

è¿›å…¥è¯¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¯¹é¡¹ç›®è¿›è¡Œæ„å»ºï¼š

```bash
cd doc
sh build.sh
```

### å¯åŠ¨ HTTP Server

æ„å»ºå¥½ HTML æ–‡ä»¶åï¼Œå¦‚æœæ˜¯åœ¨è‡ªå·±çš„ä¸ªäººç”µè„‘ï¼Œå¯ä»¥ä½¿ç”¨ Python è‡ªå¸¦çš„ HTTP Serverï¼Œå¹¶åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ http://127.0.0.1:8000 æŸ¥çœ‹æ•ˆæœï¼š

```bash
cd doc/_build/html
python -m http.server 8000
```

ä¹‹åä¼šåœ¨ `doc/_build/html` ç›®å½•ä¸‹ç”Ÿæˆå„ç±»ç½‘é¡µç›¸å…³æ–‡ä»¶ã€‚